# å˜å½¢æ“ä½œ

translate å¹³ç§»
scale ç¼©æ”¾
rotate æ—‹è½¬
transform setTransform å˜æ¢çŸ©é˜µ

## translate

```js
ctx.translate(x, y);
```

## scale

scale ç¼©æ”¾ä¸åªæ”¹å˜å›¾å½¢å¤§å° ä¹Ÿæ”¹å˜å·¦ä¸Šè§’åæ ‡ï¼Œçº¿å®½ç­‰

```js
ctx.scale(x, y);
```

## rotate

æ ¹æ®åŽŸç‚¹æ—‹è½¬(0,0)

```js
// è®¡ç®—è§’åº¦ angle = number * Math.PI/180
// d > 0 é¡ºæ—¶é’ˆæ—‹è½¬
// d < 0 é€†æ—¶é’ˆæ—‹è½¬
ctx.rotate(angle);
```

## transform

translate scale rotate æœ¬è´¨ä¸Šéƒ½æ˜¯é€šè¿‡å˜æ¢çŸ©é˜µå®žçŽ°çš„

```js
// a æ°´å¹³ç¼©æ”¾ç»˜å›¾
// b æ°´å¹³å€¾æ–œç»˜å›¾
// c åž‚ç›´å€¾æ–œç»˜å›¾
// d åž‚ç›´ç¼©æ”¾ç»˜å›¾
// e æ°´å¹³ç§»åŠ¨ç»˜å›¾
// f åž‚ç›´ç§»åŠ¨ç»˜å›¾
/*
    a c e
    b d f
    0 0 1
*/
ctx.transform(a, b, c, d, e, f);
```

### å¹³ç§»

èµ·å§‹åæ ‡ x,y
å¹³ç§»åŽåæ ‡ x1,y1
åœ¨ xy è½´å¹³ç§»é‡ e f
åˆ™æœ‰ä»¥ä¸‹å…¬å¼

```
x1 = x + e
y1 = y = f
```

å¾—åˆ°çŸ©é˜µå…¬å¼

```
|x1|   |1 0 e| |x|
|y1| = |0 1 f| |y|
|1 |   |0 0 1| |1|
```

translate(e,f) ç­‰ä»·äºŽ transform(1, 0, 0, 1, e, f);

### ç¼©æ”¾

èµ·å§‹åæ ‡ x,y
ç¼©æ”¾åŽåæ ‡ x1,y1
åœ¨ xy è½´ç¼©æ”¾å€æ•° a d
åˆ™æœ‰ä»¥ä¸‹å…¬å¼

```
x1 = x _ a
y1 = y _ d
```

å¾—åˆ°çŸ©é˜µå…¬å¼

```
|x1|    |a 0 0| |x|
|y1| =  |0 d 0| |y|
|1 |    |0 0 1| |1|
```

scale(a,d) ç­‰ä»·äºŽ transform(a, 0, 0, d, 0, 0);

### æ—‹è½¬

èµ·å§‹åæ ‡ x,y
æ—‹è½¬åŽåæ ‡ x1,y1
æ—‹è½¬è§’åº¦ ðœƒ
åˆ™æœ‰ä»¥ä¸‹å…¬å¼

```
x1 = x*cosðœƒ - y*sinðœƒ
y1 = x*sinðœƒ + y*cosðœƒ
```

å¾—åˆ°çŸ©é˜µå…¬å¼

```
|x1|    |cosðœƒ  -sinðœƒ 0| |x|
|y1| =  |sinðœƒ  cosðœƒ  0| |y|
|1 |    |0      0    1| |1|
```

rotate(angle) ç­‰ä»·äºŽ transform(Math.cos(angle), Math.sin(angle), -Math.sin(angle), Math.cos(angle), 0, 0);


### setTransform
ä¸Ž transform åŒºåˆ«
transform æ¯æ¬¡å˜æ¢å‚æ•°éƒ½æ˜¯ä¸Šä¸€æ¬¡å˜æ¢åŽçš„å›¾å½¢çŠ¶æ€
setTransform é‡ç½®å›¾å½¢çš„çŠ¶æ€ å†è¿›è¡Œå˜æ¢